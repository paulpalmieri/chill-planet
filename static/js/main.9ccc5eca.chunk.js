(this["webpackJsonpchill-planet"]=this["webpackJsonpchill-planet"]||[]).push([[0],{15:function(e,n,t){e.exports=t.p+"static/media/NODE_GOLD.fed64b38.png"},19:function(e,n,t){e.exports=t(31)},25:function(e,n,t){},26:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},31:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(14),c=t.n(r),i=(t(24),t(25),t(26),t(10)),l=t(3),u=t(1),s=t(8),d=t.n(s),m=function(e){var n=e.bgcolor,t=e.completed,a={height:"100%",width:"".concat(t,"%"),backgroundColor:n,borderRadius:"inherit",textAlign:"center",transition:"width 0.15s",animationDirection:"alternate"};return o.a.createElement("div",{style:{height:20,width:"100%",backgroundColor:"#e0e0de",borderRadius:50,opacity:1,animation:"fade 2s linear"}},o.a.createElement("div",{style:a},o.a.createElement("span",{style:{color:"white",fontWeight:"bold"}},"".concat(t,"%"))))},f=t(12),p=t(9),g=t.n(p),b=t(15),v=t.n(b),E=t(2);function h(){var e=Object(u.a)(["\n  color: ",";\n  font-weight: bold;\n"]);return h=function(){return e},e}function w(){var e=Object(u.a)(["\n  /* margin-left: 20px; */\n  margin-right: 12px;\n"]);return w=function(){return e},e}function O(){var e=Object(u.a)([""]);return O=function(){return e},e}function x(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  width: 100%;\n\n  label {\n    color: #adadad;\n  }\n\n  div {\n    margin-right: 30px;\n  }\n"]);return x=function(){return e},e}function j(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return j=function(){return e},e}function y(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  padding: 12px;\n  margin: 4px;\n  align-items: center;\n  background-color: #f8f8f8;\n"]);return y=function(){return e},e}function k(){var e=Object(u.a)(["\n  color: #55ce7e;\n  font-size: 18px;\n"]);return k=function(){return e},e}function S(){var e=Object(u.a)(["\n  display: flex;\n  /* width: 50%; */\n  align-items: center;\n  flex-direction: column;\n  /* justify-content: center; */\n"]);return S=function(){return e},e}var D=E.a.div(S()),N=E.a.div(k()),R=E.a.div(y()),_=E.a.div(j()),A=E.a.div(x()),I=E.a.div(O()),M=E.a.img(w()),W={IRON:{name:"Iron ore",png:g.a,completetime:3e3,lifespan:2,yield:1,color:"#80778E"},GOLD:{name:"Gold ore",png:v.a,completetime:5e3,lifespan:3,yield:1,color:"#E19055"}};g.a,performance.now(),g.a,performance.now();function B(){var e=Object(a.useState)(1e3),n=Object(l.a)(e,2),t=n[0],r=(n[1],Object(a.useState)(0)),c=Object(l.a)(r,2),u=c[0],s=c[1],m=Object(a.useState)(0),p=Object(l.a)(m,2),g=p[0],b=p[1],v=o.a.useRef(),E=Object(a.useState)([]),h=Object(l.a)(E,2),w=h[0],O=h[1],x=Object(a.useState)([]),j=Object(l.a)(x,2);j[0],j[1];Object(a.useEffect)((function(){console.log("Starting gameloop...");requestAnimationFrame(v.current);console.log("Animation loop")}),[]);return v.current=function(e){console.log("Timestamp: ".concat(e));var n=e-u;if(console.log("Time diff between calls: ".concat(n)),s(e),console.log("Previous timestamp: ".concat(u)),b((function(e){return e+n})),g>150){console.log("Entering condition with ptick: ".concat(g," and ").concat(150));var t=d.a.cloneDeep(d.a.orderBy(w,(function(e){return e.remaining}),["desc"]));t.forEach((function(n,a){var o=e-n.last_tick;console.log("Diff: ".concat(o," for node ").concat(a)),o<n.completetime?(console.log("Node ".concat(a," updating.")),n.progress=100*o/n.completetime):(console.log("Node ".concat(a," done.")),n.remaining-=n.yield,0===n.remaining||n.remaining<0?(n.isVisible=!1,t.splice(a,1)):(n.progress=0,n.last_tick=performance.now()))})),O(Object(i.a)(t)),console.log("Partial ticks before end of tick: ".concat(g)),b((function(e){return e-150})),console.log("Partial ticks after end of tick: ".concat(g))}O((function(e){return Object(i.a)(e)})),requestAnimationFrame(v.current)},o.a.createElement(D,null,o.a.createElement(N,null,"$ ",t),o.a.createElement("button",{onClick:function(){var e=d.a.cloneDeep(w);console.log("Spawning new node...");var n=Math.floor(2*Math.random()),t=W[Object.keys(W)[n]];t.workers=1,t.remaining=t.lifespan,t.progress=0,t.isVisible=!0,t.last_tick=performance.now(),O([].concat(Object(i.a)(e),[t])),console.log("Spawned new node")}},"Spawn"),o.a.createElement(f.a,null,w.map((function(e,n){return o.a.createElement(f.b.div,{key:n,initial:{opacity:.5,x:-50},transition:{duration:1},animate:{opacity:1,x:0},exit:{opacity:0,x:50}},o.a.createElement(G,{index:n,node:e}))}))))}var C=E.a.div(h(),(function(e){return e.color})),G=function(e){return o.a.createElement(R,null,o.a.createElement(M,{height:64,src:e.node.png}),o.a.createElement(_,null,o.a.createElement(C,{color:e.node.color},e.node.name," "),o.a.createElement(A,null,o.a.createElement(I,null,o.a.createElement("div",null,e.node.workers," "),o.a.createElement("label",null,"Workers")),o.a.createElement(I,null,o.a.createElement("div",null,e.node.lifespan," "),o.a.createElement("label",null,"Lifespan")),o.a.createElement(I,null,o.a.createElement("div",null,e.node.remaining," "),o.a.createElement("label",null,"Remaining")),o.a.createElement(I,null,o.a.createElement("div",null,e.node.yield," "),o.a.createElement("label",null,"Yield"))),o.a.createElement(m,{key:e.index,bgcolor:e.node.color,completed:Math.ceil(e.node.progress)})))};var L=function(){return o.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(L,null," ")),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,n,t){e.exports=t.p+"static/media/NODE_IRON.cdce107f.png"}},[[19,1,2]]]);
//# sourceMappingURL=main.9ccc5eca.chunk.js.map