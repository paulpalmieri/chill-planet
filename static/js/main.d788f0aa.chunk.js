(this["webpackJsonpchill-planet"]=this["webpackJsonpchill-planet"]||[]).push([[0],{14:function(e,n,t){e.exports=t.p+"static/media/NODE_IRON.cdce107f.png"},15:function(e,n,t){e.exports=t.p+"static/media/NODE_GOLD.fed64b38.png"},19:function(e,n,t){e.exports=t(31)},25:function(e,n,t){},26:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},31:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),c=t.n(r),i=(t(24),t(25),t(26),t(9)),l=t(3),u=t(1),d=t(8),s=t.n(d),f=function(e){var n=e.bgcolor,t=e.completed,a={height:"100%",width:"".concat(t,"%"),backgroundColor:n,borderRadius:"inherit",textAlign:"center",transition:"width 0.250s",animationDirection:"alternate"};return o.a.createElement("div",{style:{height:16,width:"100%",backgroundColor:"#e0e0de",borderRadius:50,opacity:1,animation:"fade 2s linear"}},o.a.createElement("div",{style:a},o.a.createElement("span",{style:{color:"white",fontWeight:"bold"}})))},m=t(11),p=t(14),g=t.n(p),b=t(15),v=t.n(b),w=t(2);function E(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 4px;\n    div {\n        padding-left: 10px;\n    }\n"]);return E=function(){return e},e}var O=w.a.div(E()),h=function(e){return o.a.createElement(O,null,o.a.createElement("img",{height:16,src:e.png}),o.a.createElement("div",null,e.owned))};function j(){var e=Object(u.a)(["\n  color: ",";\n  font-weight: bold;\n"]);return j=function(){return e},e}function x(){var e=Object(u.a)(["\n  /* margin-left: 20px; */\n  margin-right: 12px;\n"]);return x=function(){return e},e}function y(){var e=Object(u.a)([""]);return y=function(){return e},e}function k(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  width: 100%;\n\n  label {\n    color: #adadad;\n  }\n\n  div {\n    margin-right: 30px;\n  }\n"]);return k=function(){return e},e}function D(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return D=function(){return e},e}function S(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  padding: 12px;\n  margin: 4px;\n  justify-content: center;\n  align-items: center;\n  background-color: #f8f8f8;\n"]);return S=function(){return e},e}function I(){var e=Object(u.a)(["\n  color: #55ce7e;\n  font-size: 18px;\n  margin: 10px;\n"]);return I=function(){return e},e}function N(){var e=Object(u.a)(["\n  display: flex;\n  /* width: 50%; */\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n"]);return N=function(){return e},e}function R(){var e=Object(u.a)(["\n  margin: 10px;\n\n"]);return R=function(){return e},e}var G=w.a.button(R()),L=w.a.div(N()),_=w.a.div(I()),M=w.a.div(S()),W=w.a.div(D()),C=w.a.div(k()),P=w.a.div(y()),B=w.a.img(x()),J={IRON:{type:"IRON",name:"Iron ore",png:g.a,completetime:4e3,lifespan:25,yield:5,color:"#80778E",owned:0},GOLD:{type:"GOLD",name:"Gold ore",png:v.a,completetime:5e3,lifespan:35,yield:5,color:"#E19055",owned:0}};function T(){var e=Object(a.useState)(1e3),n=Object(l.a)(e,2),t=n[0],r=(n[1],Object(a.useState)(J)),c=Object(l.a)(r,2),u=c[0],d=c[1],f=Object(a.useState)(0),p=Object(l.a)(f,2),g=p[0],b=p[1],v=Object(a.useState)(0),w=Object(l.a)(v,2),E=w[0],O=w[1],j=o.a.useRef(),x=Object(a.useState)([]),y=Object(l.a)(x,2),k=y[0],D=y[1],S=Object(a.useState)(),I=Object(l.a)(S,2),N=(I[0],I[1],o.a.useState(Date.now())),R=Object(l.a)(N,2),M=R[0],W=R[1];return j.current=function(e){console.log("Timestamp: ".concat(e));var n=e-g;if(console.log("Time diff between calls: ".concat(n)),b(e),console.log("Previous timestamp: ".concat(g)),O((function(e){return e+n})),E>250){console.log("Entering condition with ptick: ".concat(E," and ").concat(250));var t=s.a.cloneDeep(k);t.forEach((function(n,a){var o=e-n.last_tick;if(console.log("Diff: ".concat(o," for node ").concat(a)),o<n.completetime)console.log("Node ".concat(a," updating.")),n.progress=100*o/n.completetime;else{console.log("Node ".concat(a," done.")),n.remaining-=n.yield;var r=s.a.cloneDeep(u);r[n.type].owned+=n.yield,d(r),0===n.remaining||n.remaining<0?(n.isVisible=!1,t.splice(a,1)):(n.progress=0,n.last_tick=performance.now())}})),D(Object(i.a)(t)),console.log("Partial ticks before end of tick: ".concat(E)),O((function(e){return e-250})),console.log("Partial ticks after end of tick: ".concat(E)),D((function(e){return Object(i.a)(e)}))}},o.a.useEffect((function(){var e=window.setInterval((function(){W(Date.now())}),250);return function(){window.clearInterval(e)}}),[]),Object(a.useEffect)((function(){var e=performance.now();j.current(e)}),[M]),o.a.createElement(L,null,o.a.createElement(_,null,"$ ",t),o.a.createElement(h,{png:J.IRON.png,owned:u.IRON.owned}," "),o.a.createElement(h,{png:J.GOLD.png,owned:u.GOLD.owned}," "),o.a.createElement(G,{onClick:function(){var e=s.a.cloneDeep(k);console.log("Spawning new node...");var n=Math.floor(2*Math.random()),t=J[Object.keys(J)[n]];t.workers=1,t.remaining=t.lifespan,t.progress=0,t.isVisible=!0,t.last_tick=performance.now(),D([].concat(Object(i.a)(e),[t])),console.log("Spawned new node")}},"Spawn"),o.a.createElement(m.a,null,k.map((function(e,n){return o.a.createElement(m.b.div,{key:n,initial:{opacity:.5,x:-50},animate:{opacity:1,x:0},exit:{opacity:0}},o.a.createElement($,{index:n,node:e}))}))))}var V=w.a.div(j(),(function(e){return e.color})),$=function(e){return o.a.createElement(M,null,o.a.createElement(B,{height:40,src:e.node.png}),o.a.createElement(W,null,o.a.createElement(V,{color:e.node.color},e.node.name," "),o.a.createElement(C,null,o.a.createElement(P,null,o.a.createElement("div",null,e.node.workers," "),o.a.createElement("label",null,"Workers")),o.a.createElement(P,null,o.a.createElement("div",null,e.node.lifespan," "),o.a.createElement("label",null,"Lifespan")),o.a.createElement(P,null,o.a.createElement("div",null,e.node.remaining," "),o.a.createElement("label",null,"Remaining")),o.a.createElement(P,null,o.a.createElement("div",null,e.node.yield," "),o.a.createElement("label",null,"Yield"))),o.a.createElement(f,{key:e.index,bgcolor:e.node.color,completed:Math.ceil(e.node.progress)})))};var z=function(){return o.a.createElement(T,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null," ")),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.d788f0aa.chunk.js.map